<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è´§è½¦è¿è¾“è·ç¦»æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .param-list {
            list-style: none;
            padding: 0;
        }
        .param-list li {
            margin: 5px 0;
            padding: 5px;
            background: #f5f5f5;
            border-radius: 3px;
        }
        .btn {
            background: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 0;
        }
        .btn:hover {
            background: #0056b3;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background: #e9ecef;
            border-radius: 5px;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <h1>ğŸš› è´§è½¦è¿è¾“è·ç¦»è®¡ç®—æµ‹è¯•</h1>
    
    <div class="test-section">
        <h2>ğŸ“‹ æµ‹è¯•å‚æ•°é…ç½®</h2>
        <ul class="param-list">
            <li><strong>è´§è½¦ç±»å‹:</strong> é‡å‹</li>
            <li><strong>è½´æ•°:</strong> 4è½´</li>
            <li><strong>æ€»é‡é‡:</strong> 40.00å¨ â†’ 40000å…¬æ–¤</li>
            <li><strong>è½¦é•¿:</strong> 14.70ç±³ â†’ 1470å˜ç±³</li>
            <li><strong>è½¦å®½:</strong> 2.50ç±³ â†’ 250å˜ç±³</li>
            <li><strong>è½¦é«˜:</strong> 4.00ç±³ â†’ 400å˜ç±³</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>ğŸ“ æµ‹è¯•è·¯çº¿</h2>
        <ul class="param-list">
            <li><strong>èµ·ç‚¹:</strong> æ¹–å—çœé•¿æ²™å¸‚é•¿æ²™å¿æ±ŸèƒŒé•‡ç¦ç”°æ‘å¦å¡˜ç»„188å·èµ«èŒ—å°šä»“</li>
            <li><strong>ç»ˆç‚¹:</strong> å—æ˜Œå¸‚é’å±±æ¹–åŒºæ¹–åŠé•‡</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>ğŸ›£ï¸ é«˜å¾·åœ°å›¾APIå‚æ•°æ¨¡æ‹Ÿ</h2>
        <button class="btn" onclick="simulateAmapRequest()">æ¨¡æ‹ŸAPIè¯·æ±‚</button>
        
        <h3>é¢„æœŸæ„å»ºçš„URLå‚æ•°:</h3>
        <ul class="param-list">
            <li><code>strategy=2</code> (è´§è½¦è·¯çº¿ç­–ç•¥)</li>
            <li><code>cartype=2</code> (è´§è½¦ç±»å‹)</li>
            <li><code>carweight=40000</code> (é‡é‡:å…¬æ–¤)</li>
            <li><code>carheight=400</code> (é«˜åº¦:å˜ç±³)</li>
            <li><code>carwidth=250</code> (å®½åº¦:å˜ç±³)</li>
            <li><code>carlength=1470</code> (é•¿åº¦:å˜ç±³)</li>
            <li><code>axlenum=4</code> (è½´æ•°)</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š æµ‹è¯•ç»“æœ</h2>
        <div id="testResult" class="result">ç‚¹å‡»"æ¨¡æ‹ŸAPIè¯·æ±‚"æŒ‰é’®æŸ¥çœ‹ç»“æœ...</div>
    </div>

    <div class="test-section">
        <h2>ğŸ” å®é™…æµ‹è¯•æ­¥éª¤</h2>
        <ol>
            <li>æ‰“å¼€ä¸»åº”ç”¨ <a href="http://localhost:3000/" target="_blank">http://localhost:3000/</a></li>
            <li>æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…· â†’ æ§åˆ¶å°(Console)</li>
            <li>ç¡®è®¤è½¦è¾†é…ç½®é¢æ¿å‚æ•°æ­£ç¡®ï¼ˆé‡å‹è´§è½¦ï¼‰</li>
            <li>è¾“å…¥æµ‹è¯•èµ·ç‚¹å’Œç»ˆç‚¹åœ°å€</li>
            <li>ç‚¹å‡»"è®¡ç®—è·ç¦»"æŒ‰é’®</li>
            <li>åœ¨æ§åˆ¶å°ä¸­æŸ¥çœ‹è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯ï¼š
                <ul>
                    <li>ğŸšš è½¦è¾†é…ç½®å‚æ•°</li>
                    <li>ğŸš› è´§è½¦ä¸“ç”¨å‚æ•°</li>
                    <li>ğŸ“Š å®Œæ•´APIå“åº”</li>
                    <li>ğŸ›£ï¸ è·¯çº¿è¯¦æƒ…</li>
                </ul>
            </li>
        </ol>
    </div>

    <script>
        function simulateAmapRequest() {
            const resultDiv = document.getElementById('testResult');
            
            // æ¨¡æ‹Ÿè½¦è¾†é…ç½®
            const vehicleConfig = {
                truckType: 'heavy',
                axleCount: '4',
                totalWeight: 40.00,
                truckLength: 14.70,
                truckWidth: 2.50,
                truckHeight: 4.00
            };

            // æ„å»ºAPIè¯·æ±‚URL
            const apiKey = "your_amap_api_key_here";
            let strategy = '2'; // è´§è½¦è·¯çº¿ç­–ç•¥
            
            let url = `https://restapi.amap.com/v3/direction/driving?key=${apiKey}&origin=æ¨¡æ‹Ÿåæ ‡&destination=æ¨¡æ‹Ÿåæ ‡&strategy=${strategy}&extensions=base`;

            // æ·»åŠ è´§è½¦ä¸“ç”¨å‚æ•°
            if (vehicleConfig.truckType !== 'micro') {
                url += `&cartype=2`;
                url += `&carweight=${vehicleConfig.totalWeight * 1000}`;
                url += `&carheight=${vehicleConfig.truckHeight * 100}`;
                url += `&carwidth=${vehicleConfig.truckWidth * 100}`;
                url += `&carlength=${vehicleConfig.truckLength * 100}`;
                url += `&axlenum=${vehicleConfig.axleCount === '6+' ? 6 : parseInt(vehicleConfig.axleCount)}`;
            }

            const result = `ğŸš› è´§è½¦è¿è¾“è·ç¦»æµ‹è¯• - APIè¯·æ±‚æ¨¡æ‹Ÿ
===============================

ğŸ“¡ æ„å»ºçš„API URL:
${url}

ğŸ”§ è´§è½¦ä¸“ç”¨å‚æ•°è¯¦æƒ…:
- cartype: 2 (è´§è½¦)
- carweight: ${vehicleConfig.totalWeight * 1000}å…¬æ–¤
- carheight: ${vehicleConfig.truckHeight * 100}å˜ç±³  
- carwidth: ${vehicleConfig.truckWidth * 100}å˜ç±³
- carlength: ${vehicleConfig.truckLength * 100}å˜ç±³
- axlenum: ${vehicleConfig.axleCount === '6+' ? 6 : parseInt(vehicleConfig.axleCount)}è½´

âœ… å‚æ•°æ„å»ºå®Œæˆï¼

âš ï¸ ä¸‹ä¸€æ­¥ï¼šåœ¨å®é™…åº”ç”¨ä¸­éªŒè¯ï¼š
1. ç¡®è®¤é«˜å¾·åœ°å›¾APIå¯†é’¥æ­£ç¡®é…ç½®
2. æ£€æŸ¥æ§åˆ¶å°è¾“å‡ºçš„å®Œæ•´APIå“åº”
3. éªŒè¯è¿”å›çš„è·¯çº¿è·ç¦»æ˜¯å¦ä¸ºè´§è½¦ä¸“ç”¨è·¯çº¿`;

            resultDiv.textContent = result;
        }
    </script>
</body>
</html>